@startuml


class Admin{
+ Admin(String username, String password, String name)
# addMedia(Movie movie)
# addMedia(Series serie)
# removeMedia(String title)
# changeMedia(String oldTitle, String newTitle)
# addAdmin(Account newAdmin)
}

class StreamingService{
- TextUI ui
- MediaManager manager
+ StreamingService(Account account)
+ void showMenu()
+ void search()
- void searchTitle(String title)
- void searchCategory(String categoryName)
- void searchByYear(int startYear, int endYear)
- void searchByRating(double rating)
- void displayMedia()
+ void showSeenMedia(Account a)
+ void showSavedMedia(Account a)
+ void logOut()
+ void endStreamingService()
}

class Main{
+ Login login
+ static void main(String[] args)
}

class Movie{
- int year
+ Movie(String title, int year, List<String> genre, double rating)
+ String toString()
+ String getTitle()
+ int getYear()
+ List<String> genre getGenre()
+ double getRating()
}

class Series{
- List <String> yearSpan
- List <int> episodes
- List <List> seasons
+ Series(String title, List<String> releaseYear,List<String> genre, double rating, List<String> seasons)
}

class MediaManager {
- FileIO io
- ArrayList<Media> media
+ MediaManager(String moviesPath, String seriesPath)
+ void loadMovieData()
+ void loadSeriesData()
+ void saveMediaData()
+ ArrayList<Media> media getMedia()
}

class Login {
- TextUI ui
- AccountManager manager
- StreamingService service
+ Login(String appName)
- void start()
- void login()
}

Abstract Media{
# String title
# List<String> genre
# double rating
+ Media(String title, List<String> genre, double rating)
}

class Account{
- String name
- String username
- String password
- LocalDate birthday
- int age
- boolean isChild
- boolean isAdmin
- ArrayList<Media> seenMedia
- ArrayList<Media> savedMedia
+ Account(String username, String password, String name, LocalDate birthdate)
+ boolean makeThisAccountAdmin(String password)
- void makeAnotherAccountAdmin(HashMap<String, Account> accounts, String username)
- int isAgeLessThan10(LocalDate date)
+ Account getUsername()
+ String getName()
+ int getAge
+ String getPassword()
+ void setUsername(String newUsername)
+ void setPassword(String oldPassword, String newPassword)
+ void addSeenMedia(Media media)
+ void addSavedMedia(Media media)
+ void setAdmin(boolean admin)
+ boolean getAdmin()
}


class AccountManager {
- FileIO io
- ArrayList<Account>
+ AccountManager(String path)
+ void createAccount()
+ void loadUserData()
+ void saveUserData()
+ boolean isUserInSystem(String username)
+ boolean isUserNameAndPasswordCorrect()
+ boolean isUserAdmin(User u)
}

package "util" {
    class TextUI {
    - Scanner scan
    + void displayMessage(String message)
    + void displayMessage(Object object)
    + void displayList(ArrayList<String> list, String message)
    + String promptText(String message)
    + int promptInteger(String message)
    + int promptDouble(String message)
    + LocalDate promptBirthday()
    + boolean isValidDay(int year, int month, int day)
    + boolean isLeapYear(int year)
    + boolean promptBinary(String message)
    + ArrayList<String> promptChoice(ArrayList<String> options, int limit, String msg)
    }
}

package "util" {
    class FileIO{
    + void saveData(ArrayList<String> list, String path, String header)
    + void appendData(String object, String path)
    + ArrayList<String> readData(String path)
    + String[] readData(String path, int length)
    }
 }

interface MediaPlayer {
+ playMedia()
+ stopMedia()
}

Main *-- Login
Login *-- AccountManager
Login *-- StreamingService
StreamingService *-- Account

MediaPlayer <|.. Movie
MediaPlayer <|.. Series
AccountManager *-- Account
AccountManager *-- FileIO
Login *-- TextUI
StreamingService *-- TextUI

StreamingService *-- MediaManager
MediaManager *-- FileIO
MediaManager *-- Media
Account <|-- Admin

Media <|-- Movie
Media <|-- Series

@enduml